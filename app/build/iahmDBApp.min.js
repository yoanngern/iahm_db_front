"use strict";angular.module("iahmDBApp",["ngRoute","iahmDBApp.showView","iahmDBApp.searchView"]).config(["$routeProvider",function(a){a.otherwise({redirectTo:"/search"})}]).controller("appCtrl",["$scope","$location",function(a,b){a.message="",a.searchValue="",a.searchConstructor={q:"*:*",entity:""},a.searchAll=function(){""==a.searchValue?a.searchConstructor.q="*:*":a.searchConstructor.q=a.searchValue,b.path("search")}}]),angular.module("iahmDBApp.searchView",["ngRoute"]).config(["$routeProvider",function(a){a.when("/search",{templateUrl:"views/search.html",controller:"searchCtrl"})}]).controller("searchCtrl",["$scope","$http","$routeParams","$location",function(a,b,c,d){a.results=[],a.searchRequest="",a.filterSearch=function(b){console.log(b),a.searchConstructor.entity=b,"all"==b&&(a.searchConstructor.entity=""),console.log(a.searchConstructor)},a.showView=function(b,c){a.message="loading...",d.path(b+"/"+c)},a.$watch("searchConstructor",function(){a.searchRequest=a.searchConstructor.q,a.searchConstructor.entity&&(a.searchRequest+=" AND doc_type:"+a.searchConstructor.entity)},!0),a.$watch("searchRequest",function(){var c={method:"GET",headers:{"Content-Type":"application/javascript"},params:{q:a.searchRequest}};a.message="loading...",b.get("http://iahmdb.local/app_dev.php/api/search",c).success(function(b,c,d,e){a.results=b,a.message=""}).error(function(a,b,c,d){})},!0)}]),angular.module("iahmDBApp.showView",["ngRoute"]).config(["$routeProvider",function(a){a.when("/:doc_type/:id",{templateUrl:"views/show.html",controller:"showCtrl"})}]).controller("showCtrl",["$scope","$http","$routeParams","$location",function(a,b,c,d){}]);